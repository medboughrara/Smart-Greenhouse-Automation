Here is a complete and professional `README.md` file for your smart greenhouse ML model project, including SHAP explainability, ONNX export, and real-time prediction integration.

---

### ğŸ“„ `README.md`

````markdown
# ğŸŒ¿ Smart Greenhouse Actuator Prediction System

This project uses machine learning to predict actuator states (`Fan_actuator_ON`, `Watering_plant_pump_ON`) in a smart greenhouse based on real-time environmental data such as temperature, humidity, water level, and soil nutrients (N, P, K).

---

## ğŸ“Œ Project Overview

- ğŸ“ˆ Predicts when to **turn ON the fan or watering system**
- ğŸ¤– Trained on a real-world dataset collected from a smart greenhouse in Iraq (2023â€“2024)
- ğŸ” Supports **SHAP** explainability
- ğŸ“¦ Deployable on edge devices (Raspberry Pi, Jetson Nano) via **ONNX**
- ğŸŒ Includes **real-time prediction loop** for live sensor integration

---

## ğŸ“ Dataset Description

| Feature                   | Description                          |
|---------------------------|--------------------------------------|
| temperature               | Ambient temperature (Â°C)             |
| humidity                  | Humidity (%)                         |
| water_level               | Water reservoir level (%)            |
| N, P, K                   | Soil nutrients (0â€“255 scale)         |
| Fan_actuator_ON           | Label: 1 if fan should be ON         |
| Watering_plant_pump_ON    | Label: 1 if watering should be ON    |

> The dataset was cleaned, duplicates and nulls removed, and categorical data encoded.

---

## ğŸ§  Models Used

| Model              | Use Case                       | Notes                              |
|--------------------|--------------------------------|-------------------------------------|
| Random Forest       | Baseline model                 | Fast, interpretable                 |
| XGBoost             | Optimized performance model    | Handles imbalanced data well        |

---

## ğŸš€ Getting Started

### ğŸ“¦ Install Requirements

```bash
pip install pandas scikit-learn xgboost joblib shap matplotlib skl2onnx
````

### ğŸ§ª Train Models

```python
# train_models.py
# Trains RandomForest and XGBoost + saves them
python train_models.py
```

### ğŸ“Š SHAP Explainability

```python
# shap_explain.py
# Visualizes feature importance for Fan_actuator_ON
python shap_explain.py
```

### ğŸ“¤ Export to ONNX

```python
# export_onnx.py
# Exports RandomForest model to ONNX for deployment
python export_onnx.py
```

### ğŸ” Real-Time Prediction Script

```python
# real_time_predict.py
# Simulates live predictions (replace with sensor input)
python real_time_predict.py
```

---

## ğŸ” SHAP Example

```python
import shap
explainer = shap.Explainer(xgb_model.estimators_[0])
shap_values = explainer(X_test)
shap.summary_plot(shap_values, X_test)
```

---

## ğŸ’¾ Deployment

* âœ… Save as `.pkl` for local use
* âœ… Export to `.onnx` for edge devices
* ğŸ§  Optional: Convert neural models to TensorFlow Lite for microcontrollers

---

## ğŸ§ª Real-Time Integration

Replace simulated sensor input with live data:

* ğŸ”Œ Via **Serial** from Arduino
* ğŸ“¶ Via **MQTT** from ESP32
* ğŸ§° Via **GPIO** on Raspberry Pi

```python
sensor_data = {
    'temperature': 31,
    'humidity': 70,
    'water_level': 90,
    'N': 120,
    'P': 80,
    'K': 100
}
```

Then pass this to the model for real-time prediction and control.

---

## ğŸ§¾ Attribution

Data from the master's thesis by **Mohammed Ismail Lifta (2023â€“2024)**
Supervised by **Asst. Prof. Wissam Dawood Abdullah**
ğŸ“ Department of Computer Science, Tikrit University, Iraq
ğŸ“‘ License: [CC BY-ND](https://creativecommons.org/licenses/by-nd/4.0/)

---

## ğŸ“¬ Future Work

* âœ… Add dashboard (Streamlit / Dash)
* ğŸ“¡ Connect to cloud (Firebase, AWS IoT)
* ğŸŒ± Integrate with irrigation controllers
* ğŸ“Š Add historical trend analytics

---

## ğŸ¤– Maintainer

**Mouhamed Boughrara**
ğŸ”§ Electronics & AI Systems Developer
ğŸŒ Tunisia | ğŸ’¡ Open to collaborations

```

